# appset-secret-plugin

![Version: 1.3.0](https://img.shields.io/badge/Version-1.3.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: v0.9.0](https://img.shields.io/badge/AppVersion-v0.9.0-informational?style=flat-square)

A Helm chart for adding a K8s Secret Plugin Generator to Argo CD ApplicationSets

## Maintainers

| Name | Email | Url |
| ---- | ------ | --- |
| jessebot |  | <https://jessebot.work> |

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| autoscaling.enabled | bool | `false` | if you're feeling brave, why not try enabling autoscaling? untested |
| autoscaling.maxReplicas | int | `100` |  |
| autoscaling.minReplicas | int | `1` |  |
| autoscaling.targetCPUUtilizationPercentage | int | `80` |  |
| configReloader.folder | string | `"/var/run/secret-plugin"` | full path on container to put secret file |
| configReloader.image.pullPolicy | string | `"IfNotPresent"` | image pullPolicy for the main container |
| configReloader.image.repository | string | `"quay.io/kiwigrid/k8s-sidecar"` | registry and repo for the configreloader image defaults to https://github.com/kiwigrid/k8s-sidecar |
| configReloader.image.tag | string | `"1.30.11"` | tag to point at for k8s-sidecar |
| configReloader.interval | int | `10` | interval to wait before retrying a check for changes (in seconds) |
| configReloader.label | string | `"argocd-appset-secret-plugin"` | the label to check for on the Secret (secretVars.existingSecret) |
| configReloader.labelValue | string | `"1"` | the label value to check for on the Secret (secretVars.existingSecret) |
| configReloader.resources.limits.cpu | string | `"100m"` | cpu limit for the configreloader |
| configReloader.resources.limits.memory | string | `"200Mi"` | memory limit for the configreloader |
| configReloader.resources.requests.cpu | string | `"50m"` | requested cpu on configReloader startup |
| configReloader.resources.requests.memory | string | `"100Mi"` | requested memory on configReloader startup |
| fullnameOverride | string | `""` |  |
| image.pullPolicy | string | `"IfNotPresent"` | image pullPolicy for the main container |
| image.repository | string | `"jessebot/argocd-appset-secret-plugin"` | image repo to use for the docker container |
| image.tag | string | `""` | Overrides the image tag whose default is the chart appVersion. |
| imagePullSecrets | list | `[]` |  |
| logging.level | string | `"warning"` | logging level for secret-plugin docker container Can be one of: debug, info, warning, error |
| nameOverride | string | `""` | override the autogenerated name of this helm chart release |
| nodeSelector | object | `{}` | deploy chart to a specific k8s node |
| podAnnotations | object | `{}` | any additional annotations you'd like the pod to have |
| podSecurityContext | object | `{}` | securityContext for the pod: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/ |
| rbac.create | bool | `true` | create rbac clusterole and clusterolebinding |
| rbac.useExistingClusterRole | string | `""` | use existing clusterole, but still create clusterrolebinding |
| replicaCount | int | `1` | number of replica pods to create |
| resources | object | `{}` | resources for the appset secret plugin container |
| secretVars.existingSecret | string | `""` | name of an existing secret to use for the secret keys to provide to applicationSets via the plugin generator |
| secretVars.secretKey | string | `"secret_vars.yaml"` |  |
| securityContext | object | `{}` | securityContext for the container: https://kubernetes.io/docs/tasks/configure-pod-container/security-context/ |
| service.port | int | `80` | service port to expose on the cluster |
| service.targetPort | int | `4355` | service target port on the container |
| service.type | string | `"ClusterIP"` | type for the service, only ClusterIP is tested |
| serviceAccount.annotations | object | `{}` | Annotations to add to the service account |
| serviceAccount.create | bool | `true` | Specifies whether a service account should be created |
| serviceAccount.name | string | `""` | The name of the service account to use. If not set and create is true, a name is generated using the fullname template |
| token.existingSecret | string | `""` | the name of an existing secret to use for the token that argoCD and the plugin will use for communication |
| tolerations | list | `[]` |  |

----------------------------------------------
Autogenerated from chart metadata using [helm-docs v1.11.0](https://github.com/norwoodj/helm-docs/releases/v1.11.0)
